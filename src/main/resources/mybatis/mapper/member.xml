<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="member">
	  <select id="selectUserPw" parameterType="string" resultType="string">
	   SELECT member_pw
	  	 FROM tbl_member
	  	WHERE user_id = #{userId}
	  </select>
	  
	  <select id="selectUid" parameterType="string" resultType="string">
	    SELECT uid
	  	 FROM tbl_member
		WHERE user_id =#{userId}
	  </select>
	  
	  <select id="selectRank" parameterType="string" resultType="string">
	    SELECT user_rank
	  	 FROM tbl_member
		WHERE uid =#{uid}
	  </select>
	  
	  <select id="selectUserId"  parameterType="map" resultType="string">
	    SELECT user_id
		FROM tbl_member m, tbl_member_detail d
		WHERE m.user_name = #{userName}
		AND d.phone_num = #{phoneNum}
	  </select>
	  
	  
	  <insert id="insertUser" parameterType="map">
	    INSERT INTO tbl_member (uid, user_id, user_pw, user_name, user_rank) 
	    	 VALUES (#{uid}, #{userId}, #{userPw}, #{userName}, #(userRank))
	    
	  </insert>
	  
	  <insert id="insertUserDetail" parameterType="map">
	    INSERT INTO tbl_member_detail (uid, phone_num, addr, addr_detail, zip_code) 
	    	 VALUES (#{uid}, #{userPhone}, #{userAddr}, #{userAddrDetail},
	    	 		 #{userZipcode})
	  </insert>
</mapper>